TODO:
  - fix free_mem
  - delete destroy_header
